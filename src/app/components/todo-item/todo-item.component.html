<div class="todo-item">
  <mat-checkbox
    *ngIf="completedControl"
    [formControl]="completedControl"
    (change)="toggleTodo()"
  ></mat-checkbox>

  <span *ngIf="titleControl && !isEditing" (dblclick)="editTodo()">
    {{ titleControl!.value }}
  </span>

  <input
    #titleInput
    *ngIf="titleControl && isEditing"
    [formControl]="titleControl"
    (blur)="saveEdit()"
    (keydown.enter)="saveEdit()"
    (keydown.escape)="isEditing = false"
    autofocus
  />

  <button (click)="deleteTodo()">Delete</button>
</div>
