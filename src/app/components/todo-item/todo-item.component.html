<div class="todo-item">
  <mat-checkbox
    *ngIf="completedControl"
    [formControl]="completedControl"
    (change)="toggleTodo()"
  ></mat-checkbox>

  <span *ngIf="titleControl && !isEditing" (click)="editTodo()">
    {{ titleControl!.value }}
  </span>

  <input
    matInput
    #titleInput
    *ngIf="titleControl && isEditing"
    [formControl]="titleControl"
    (blur)="saveEdit()"
    (keydown.enter)="onEnterKey($event)"
    (keydown.escape)="isEditing = false"
    placeholder="Enter todo title"
  />

  <button mat-icon-button color="warn" (click)="deleteTodo()">
    <mat-icon>delete</mat-icon>
  </button>
</div>
